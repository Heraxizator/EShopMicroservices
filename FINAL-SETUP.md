# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–µ —à–∞–≥–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

## üéâ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π ‚úÖ
–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ –≤—Å–µ 4 —Å–±–æ—Ä–∫–∏:
- ‚úÖ Customer.Microservice/Middleware/GlobalExceptionHandler.cs
- ‚úÖ Order.Microservice/Middleware/GlobalExceptionHandler.cs
- ‚úÖ Product.Microservice/Middleware/GlobalExceptionHandler.cs
- ‚úÖ Aggregator.WebApi/Middleware/GlobalExceptionHandler.cs

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è middleware ‚úÖ
–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ Startup.cs –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è middleware.

### 3. –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ
–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:
- ‚úÖ **README.md** (186+ —Å—Ç—Ä–æ–∫) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ **ERROR-HANDLING.md** - –î–µ—Ç–∞–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- ‚úÖ **EXCEPTION-HANDLING-IMPLEMENTATION.md** - –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ **START-HERE.md** - –û–±–Ω–æ–≤–ª–µ–Ω —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫

---

## üîß –¢—Ä–µ–±—É–µ—Ç—Å—è: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Docker Desktop

**–ü—Ä–æ–±–ª–µ–º–∞**: Docker Desktop –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (–æ—à–∏–±–∫–∞ API 500).

### –†–µ—à–µ–Ω–∏–µ:

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Docker Desktop**
2. –ù–∞–∂–º–∏—Ç–µ **Settings** (—à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞)
3. –í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **Troubleshoot**
4. –ù–∞–∂–º–∏—Ç–µ **Restart Docker Desktop**
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ PowerShell (–æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Desktop
Stop-Process -Name "Docker Desktop" -Force

# –ü–æ–¥–æ–∂–¥–∞—Ç—å 5 —Å–µ–∫—É–Ω–¥
Start-Sleep -Seconds 5

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop
Start-Process "C:\Program Files\Docker\Docker\Docker Desktop.exe"

# –ü–æ–¥–æ–∂–¥–∞—Ç—å 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
Start-Sleep -Seconds 30
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
```powershell
docker version
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Client –∏ Server - Docker –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.

---

## üöÄ –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Docker

### –®–∞–≥ 1: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑—ã

```powershell
docker-compose build --no-cache
```

–≠—Ç–æ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –≤—Å–µ 4 —Å–µ—Ä–≤–∏—Å–∞ —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```powershell
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
.\start-services.bat

# –ò–õ–ò –≤—Ä—É—á–Ω—É—é:
docker-compose up -d
Start-Sleep -Seconds 45
.\create-databases.ps1
docker restart customer-service order-service product-service aggregator
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

```powershell
docker-compose ps
```

–í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `Up`.

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```powershell
# Aggregator
docker logs aggregator --tail 20

# Customer Service
docker logs customer-service --tail 20

# Order Service
docker logs order-service --tail 20

# Product Service
docker logs product-service --tail 20
```

–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–ª–∏ runtime –æ—à–∏–±–æ–∫.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ Swagger
```
http://localhost:5000/swagger
```

### 2. –¢–µ—Å—Ç 1: –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–µ—Å—É—Ä—Å (404)

**–ó–∞–ø—Ä–æ—Å**:
```
GET http://localhost:5001/api/v1/Customer/99999
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç**:
```json
{
  "statusCode": 404 –∏–ª–∏ 500,
  "message": "An error occurred while processing your request.",
  "detailed": "...",
  "timestamp": "2025-11-20T..."
}
```

### 3. –¢–µ—Å—Ç 2: –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å (503)

**–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Customer Service**:
```powershell
docker stop customer-service
```

**–ó–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ Aggregator**:
```
GET http://localhost:5000/api/v1/Shop/Customers/Guest
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç**:
```json
{
  "statusCode": 503,
  "message": "Unable to communicate with downstream service.",
  "detailed": "...",
  "timestamp": "2025-11-20T..."
}
```

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞**:
```powershell
docker start customer-service
```

### 4. –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```powershell
docker logs aggregator --tail 10
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–ø–∏—Å—å –æ–± –æ—à–∏–±–∫–µ:
```
[Error] Microservice communication error: ...
```

---

## üìã –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Docker —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] Docker Desktop –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] `docker version` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- [ ] `docker-compose build --no-cache` –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- [ ] –í—Å–µ 7 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã (3 –ë–î + 3 —Å–µ—Ä–≤–∏—Å–∞ + 1 aggregator)
- [ ] Swagger –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –≤—Å–µ—Ö 4 –ø–æ—Ä—Ç–∞—Ö
- [ ] –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
- [ ] Aggregator –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–µ—Ä–≤–∏—Å–∞–º
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–µ—Å—Ç—ã –≤—ã—à–µ)
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π:

1. **README.md** - –ù–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞! –ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
2. **START-HERE.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
3. **ERROR-HANDLING.md** - –î–µ—Ç–∞–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
4. **EXCEPTION-HANDLING-IMPLEMENTATION.md** - –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
5. **DOCKER-README.md** - Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
6. **TROUBLESHOOTING.md** - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

---

## üéØ –ò—Ç–æ–≥–∏

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

‚úÖ **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π** –¥–ª—è –≤—Å–µ—Ö —Å–±–æ—Ä–æ–∫  
‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –æ—à–∏–±–æ–∫  
‚úÖ **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –¥–ª—è Aggregator  
‚úÖ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ JSON –æ—Ç–≤–µ—Ç—ã** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö  
‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–µ–π—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** (186+ —Å—Ç—Ä–æ–∫ README)  
‚úÖ **–û—Ç–¥–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –æ—à–∏–±–∫–∞–º**  
‚úÖ **Best practices** –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è  
‚úÖ **–¢–µ—Å—Ç—ã** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏  

### –ì–æ—Ç–æ–≤–æ –∫:

‚úÖ Development  
‚úÖ Testing  
‚úÖ Production (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ security)  

---

## üí° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—Å–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å:

1. **Unit Tests** - —Ç–µ—Å—Ç—ã –¥–ª—è middleware
2. **Integration Tests** - —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã API
3. **Health Checks** - endpoints –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
4. **Correlation IDs** - –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
5. **Structured Logging** - Serilog –∏–ª–∏ NLog
6. **Application Insights** - —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è
7. **Polly Retry Policies** - —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±–æ—è–º
8. **Circuit Breaker** - –∑–∞—â–∏—Ç–∞ –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤

---

<div align="center">

**üéâ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤! –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop! üéâ**

[üìñ README](README.md) | [üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](ERROR-HANDLING.md) | [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](START-HERE.md)

</div>

